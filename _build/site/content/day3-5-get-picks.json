{"version":3,"kind":"Notebook","sha256":"6f57de2486aee194e9cb472ffee21a5a44240a3d2a867c0ec8195cdebcb09e10","slug":"day3-5-get-picks","location":"/notebooks/Amanda/day3.5_get_picks.ipynb","dependencies":[],"frontmatter":{"kernelspec":{"name":"python3","display_name":"mlgeo","language":"python"},"authors":[{"id":"Amanda M. Thomas, William Marfo, and Loïc Bachelot","name":"Amanda M. Thomas, William Marfo, and Loïc Bachelot"}],"keywords":["earthquake","catalog","ML","AI"],"numbering":{"title":{"offset":2}},"exports":[{"format":"ipynb","filename":"day3.5_get_picks.ipynb","url":"/day3.5_get_picks-4f74cb8f71c02320d54e79394951544b.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd","key":"rtS8jxVypx"},{"type":"outputs","id":"fpEgZNZwXzjZ3zAiU8HTL","children":[],"key":"rdcwazmsvv"}],"key":"VDcPllfT4w"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import datetime\nfrom tqdm.notebook import tqdm\nimport time\n\n# Base URL\nbase_url = \"https://dasway.ess.washington.edu/quakescope/service/classifies/query\"\n\n# Start and end dates\nstart_date = datetime.datetime(2002, 1, 1)\nend_date = datetime.datetime(2025, 12, 31)\n\n# Create empty DataFrame to store all results\nall_data = pd.DataFrame()\n\n# Loop through each month\ncurrent_date = start_date\nfor _ in tqdm(range((end_date.year - start_date.year) * 12 + end_date.month - start_date.month + 1)):\n    # Calculate the end of the current month\n    if current_date.month == 12:\n        next_month = datetime.datetime(current_date.year + 1, 1, 1)\n    else:\n        next_month = datetime.datetime(current_date.year, current_date.month + 1, 1)\n    \n    # Format dates for URL\n    start_str = current_date.strftime(\"%Y-%m-%d\")\n    end_str = next_month.strftime(\"%Y-%m-%d\")\n    \n    # Create URL with parameters\n    url = f\"{base_url}?tid=UW.SHW.&start_time={start_str}&end_time={end_str}&limit=1000\"\n    try:\n        # Get data for current month\n        monthly_data = pd.read_csv(url, delimiter=\"|\")\n        if monthly_data.columns[0] == \"No data found!\":\n            print(f\"No data for {start_str} to {end_str}\")\n            current_date = next_month\n            continue\n        \n        # Append to all_data\n        all_data = pd.concat([all_data, monthly_data], ignore_index=True)\n        print(all_data.tail(1))  # Print the last row of the DataFrame\n        # Sleep to avoid overwhelming the server\n        time.sleep(0.5)\n    except Exception as e:\n        print(f\"Error fetching data for {start_str} to {end_str}: {e}\")\n    \n    # Move to next month\n    current_date = next_month\nprint(f\"Total records collected: {len(all_data)}\")","key":"GKmevLpBGP"},{"type":"outputs","id":"XCJlPjmpewj_y7rYVMLk_","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"18ecc52e24a9495696efba0c416856d0\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"  0%|          | 0/288 [00:00<?, ?it/s]","content_type":"text/plain"}}},"children":[],"key":"dbQ1N9MLOG"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"No data for 2002-01-01 to 2002-02-01\nNo data for 2002-02-01 to 2002-03-01\nNo data for 2002-03-01 to 2002-04-01\nNo data for 2002-04-01 to 2002-05-01\nNo data for 2002-05-01 to 2002-06-01\nNo data for 2002-06-01 to 2002-07-01\nNo data for 2002-07-01 to 2002-08-01\nNo data for 2002-08-01 to 2002-09-01\nNo data for 2002-09-01 to 2002-10-01\nNo data for 2002-10-01 to 2002-11-01\nNo data for 2002-11-01 to 2002-12-01\nNo data for 2002-12-01 to 2003-01-01\nNo data for 2003-01-01 to 2003-02-01\nNo data for 2003-02-01 to 2003-03-01\nNo data for 2003-03-01 to 2003-04-01\nNo data for 2003-04-01 to 2003-05-01\nNo data for 2003-05-01 to 2003-06-01\nNo data for 2003-06-01 to 2003-07-01\nNo data for 2003-07-01 to 2003-08-01\nNo data for 2003-08-01 to 2003-09-01\nNo data for 2003-09-01 to 2003-10-01\nNo data for 2003-10-01 to 2003-11-01\nNo data for 2003-11-01 to 2003-12-01\nNo data for 2003-12-01 to 2004-01-01\nNo data for 2004-01-01 to 2004-02-01\nNo data for 2004-02-01 to 2004-03-01\nNo data for 2004-03-01 to 2004-04-01\nNo data for 2004-04-01 to 2004-05-01\nNo data for 2004-05-01 to 2004-06-01\nNo data for 2004-06-01 to 2004-07-01\nNo data for 2004-07-01 to 2004-08-01\nNo data for 2004-08-01 to 2004-09-01\nNo data for 2004-09-01 to 2004-10-01\nNo data for 2004-10-01 to 2004-11-01\nNo data for 2004-11-01 to 2004-12-01\nNo data for 2004-12-01 to 2005-01-01\nNo data for 2005-01-01 to 2005-02-01\nNo data for 2005-02-01 to 2005-03-01\nNo data for 2005-03-01 to 2005-04-01\nNo data for 2005-04-01 to 2005-05-01\nNo data for 2005-05-01 to 2005-06-01\nNo data for 2005-06-01 to 2005-07-01\nNo data for 2005-07-01 to 2005-08-01\nNo data for 2005-08-01 to 2005-09-01\nNo data for 2005-09-01 to 2005-10-01\nNo data for 2005-10-01 to 2005-11-01\nNo data for 2005-11-01 to 2005-12-01\nNo data for 2005-12-01 to 2006-01-01\nNo data for 2006-01-01 to 2006-02-01\nNo data for 2006-02-01 to 2006-03-01\nNo data for 2006-03-01 to 2006-04-01\nNo data for 2006-04-01 to 2006-05-01\nNo data for 2006-05-01 to 2006-06-01\nNo data for 2006-06-01 to 2006-07-01\nNo data for 2006-07-01 to 2006-08-01\nNo data for 2006-08-01 to 2006-09-01\nNo data for 2006-09-01 to 2006-10-01\nNo data for 2006-10-01 to 2006-11-01\nNo data for 2006-11-01 to 2006-12-01\nNo data for 2006-12-01 to 2007-01-01\nNo data for 2007-01-01 to 2007-02-01\nNo data for 2007-02-01 to 2007-03-01\nNo data for 2007-03-01 to 2007-04-01\nNo data for 2007-04-01 to 2007-05-01\nNo data for 2007-05-01 to 2007-06-01\nNo data for 2007-06-01 to 2007-07-01\nNo data for 2007-07-01 to 2007-08-01\nNo data for 2007-08-01 to 2007-09-01\nNo data for 2007-09-01 to 2007-10-01\nNo data for 2007-10-01 to 2007-11-01\nNo data for 2007-11-01 to 2007-12-01\nNo data for 2007-12-01 to 2008-01-01\nNo data for 2008-01-01 to 2008-02-01\nNo data for 2008-02-01 to 2008-03-01\nNo data for 2008-03-01 to 2008-04-01\nNo data for 2008-04-01 to 2008-05-01\nNo data for 2008-05-01 to 2008-06-01\nNo data for 2008-06-01 to 2008-07-01\nNo data for 2008-07-01 to 2008-08-01\nNo data for 2008-08-01 to 2008-09-01\nNo data for 2008-09-01 to 2008-10-01\nNo data for 2008-10-01 to 2008-11-01\nNo data for 2008-11-01 to 2008-12-01\nNo data for 2008-12-01 to 2009-01-01\nNo data for 2009-01-01 to 2009-02-01\nNo data for 2009-02-01 to 2009-03-01\nNo data for 2009-03-01 to 2009-04-01\nNo data for 2009-04-01 to 2009-05-01\nNo data for 2009-05-01 to 2009-06-01\nNo data for 2009-06-01 to 2009-07-01\nNo data for 2009-07-01 to 2009-08-01\nNo data for 2009-08-01 to 2009-09-01\nNo data for 2009-09-01 to 2009-10-01\nNo data for 2009-10-01 to 2009-11-01\nNo data for 2009-11-01 to 2009-12-01\nNo data for 2009-12-01 to 2010-01-01\nNo data for 2010-01-01 to 2010-02-01\nNo data for 2010-02-01 to 2010-03-01\nNo data for 2010-03-01 to 2010-04-01\nNo data for 2010-04-01 to 2010-05-01\nNo data for 2010-05-01 to 2010-06-01\nNo data for 2010-06-01 to 2010-07-01\nNo data for 2010-07-01 to 2010-08-01\nNo data for 2010-08-01 to 2010-09-01\nNo data for 2010-09-01 to 2010-10-01\nNo data for 2010-10-01 to 2010-11-01\nNo data for 2010-11-01 to 2010-12-01\nNo data for 2010-12-01 to 2011-01-01\nNo data for 2011-01-01 to 2011-02-01\nNo data for 2011-02-01 to 2011-03-01\nNo data for 2011-03-01 to 2011-04-01\nNo data for 2011-04-01 to 2011-05-01\nNo data for 2011-05-01 to 2011-06-01\nNo data for 2011-06-01 to 2011-07-01\nNo data for 2011-07-01 to 2011-08-01\nNo data for 2011-08-01 to 2011-09-01\nNo data for 2011-09-01 to 2011-10-01\nNo data for 2011-10-01 to 2011-11-01\nNo data for 2011-11-01 to 2011-12-01\nNo data for 2011-12-01 to 2012-01-01\nNo data for 2012-01-01 to 2012-02-01\nNo data for 2012-02-01 to 2012-03-01\nNo data for 2012-03-01 to 2012-04-01\nNo data for 2012-04-01 to 2012-05-01\nNo data for 2012-05-01 to 2012-06-01\nNo data for 2012-06-01 to 2012-07-01\nNo data for 2012-07-01 to 2012-08-01\nNo data for 2012-08-01 to 2012-09-01\nNo data for 2012-09-01 to 2012-10-01\nNo data for 2012-10-01 to 2012-11-01\nNo data for 2012-11-01 to 2012-12-01\nNo data for 2012-12-01 to 2013-01-01\nNo data for 2013-01-01 to 2013-02-01\nNo data for 2013-02-01 to 2013-03-01\nNo data for 2013-03-01 to 2013-04-01\nNo data for 2013-04-01 to 2013-05-01\nNo data for 2013-05-01 to 2013-06-01\nNo data for 2013-06-01 to 2013-07-01\nNo data for 2013-07-01 to 2013-08-01\nNo data for 2013-08-01 to 2013-09-01\nNo data for 2013-09-01 to 2013-10-01\nNo data for 2013-10-01 to 2013-11-01\nNo data for 2013-11-01 to 2013-12-01\nNo data for 2013-12-01 to 2014-01-01\nNo data for 2014-01-01 to 2014-02-01\nNo data for 2014-02-01 to 2014-03-01\nNo data for 2014-03-01 to 2014-04-01\nNo data for 2014-04-01 to 2014-05-01\nNo data for 2014-05-01 to 2014-06-01\nNo data for 2014-06-01 to 2014-07-01\nNo data for 2014-07-01 to 2014-08-01\nNo data for 2014-08-01 to 2014-09-01\nNo data for 2014-09-01 to 2014-10-01\nNo data for 2014-10-01 to 2014-11-01\nNo data for 2014-11-01 to 2014-12-01\nNo data for 2014-12-01 to 2015-01-01\nNo data for 2015-01-01 to 2015-02-01\nNo data for 2015-02-01 to 2015-03-01\nNo data for 2015-03-01 to 2015-04-01\nNo data for 2015-04-01 to 2015-05-01\nNo data for 2015-05-01 to 2015-06-01\nNo data for 2015-06-01 to 2015-07-01\nNo data for 2015-07-01 to 2015-08-01\nNo data for 2015-08-01 to 2015-09-01\nNo data for 2015-09-01 to 2015-10-01\nNo data for 2015-10-01 to 2015-11-01\nNo data for 2015-11-01 to 2015-12-01\nNo data for 2015-12-01 to 2016-01-01\nNo data for 2016-01-01 to 2016-02-01\nNo data for 2016-02-01 to 2016-03-01\nNo data for 2016-03-01 to 2016-04-01\nNo data for 2016-04-01 to 2016-05-01\nNo data for 2016-05-01 to 2016-06-01\nNo data for 2016-06-01 to 2016-07-01\nNo data for 2016-07-01 to 2016-08-01\nNo data for 2016-08-01 to 2016-09-01\nNo data for 2016-09-01 to 2016-10-01\nNo data for 2016-10-01 to 2016-11-01\nNo data for 2016-11-01 to 2016-12-01\nNo data for 2016-12-01 to 2017-01-01\nNo data for 2017-01-01 to 2017-02-01\nNo data for 2017-02-01 to 2017-03-01\nNo data for 2017-03-01 to 2017-04-01\nNo data for 2017-04-01 to 2017-05-01\nNo data for 2017-05-01 to 2017-06-01\nNo data for 2017-06-01 to 2017-07-01\nNo data for 2017-07-01 to 2017-08-01\nNo data for 2017-08-01 to 2017-09-01\nNo data for 2017-09-01 to 2017-10-01\nNo data for 2017-10-01 to 2017-11-01\nNo data for 2017-11-01 to 2017-12-01\nNo data for 2017-12-01 to 2018-01-01\nNo data for 2018-01-01 to 2018-02-01\nNo data for 2018-02-01 to 2018-03-01\nNo data for 2018-03-01 to 2018-04-01\nNo data for 2018-04-01 to 2018-05-01\nNo data for 2018-05-01 to 2018-06-01\nNo data for 2018-06-01 to 2018-07-01\nNo data for 2018-07-01 to 2018-08-01\nNo data for 2018-08-01 to 2018-09-01\nNo data for 2018-09-01 to 2018-10-01\nNo data for 2018-10-01 to 2018-11-01\nNo data for 2018-11-01 to 2018-12-01\nNo data for 2018-12-01 to 2019-01-01\nNo data for 2019-01-01 to 2019-02-01\nNo data for 2019-02-01 to 2019-03-01\nNo data for 2019-03-01 to 2019-04-01\nNo data for 2019-04-01 to 2019-05-01\nNo data for 2019-05-01 to 2019-06-01\nNo data for 2019-06-01 to 2019-07-01\nNo data for 2019-07-01 to 2019-08-01\nNo data for 2019-08-01 to 2019-09-01\nNo data for 2019-09-01 to 2019-10-01\nNo data for 2019-10-01 to 2019-11-01\nNo data for 2019-11-01 to 2019-12-01\nNo data for 2019-12-01 to 2020-01-01\nNo data for 2020-01-01 to 2020-02-01\nNo data for 2020-02-01 to 2020-03-01\nNo data for 2020-03-01 to 2020-04-01\nNo data for 2020-04-01 to 2020-05-01\nNo data for 2020-05-01 to 2020-06-01\nNo data for 2020-06-01 to 2020-07-01\nNo data for 2020-07-01 to 2020-08-01\nNo data for 2020-08-01 to 2020-09-01\nNo data for 2020-09-01 to 2020-10-01\nNo data for 2020-10-01 to 2020-11-01\nNo data for 2020-11-01 to 2020-12-01\nNo data for 2020-12-01 to 2021-01-01\nNo data for 2021-01-01 to 2021-02-01\nNo data for 2021-02-01 to 2021-03-01\nNo data for 2021-03-01 to 2021-04-01\nNo data for 2021-04-01 to 2021-05-01\nNo data for 2021-05-01 to 2021-06-01\n    trace_id network_code station_code  location_code channel  \\\n417  UW.SHW.           UW          SHW            NaN      HH   \n\n                  start_time        eq        px        su  \n417  2021-06-30 22:30:00.380  0.000119  0.998187  0.000009  \n     trace_id network_code station_code  location_code channel  \\\n1417  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n1417  2021-07-30 12:26:40.380  0.999741  0.000001  4.516690e-07  \n     trace_id network_code station_code  location_code channel  \\\n2410  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n2410  2021-08-31 20:22:20.380  0.986409  0.012425  1.154415e-11  \n     trace_id network_code station_code  location_code channel  \\\n3410  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time       eq        px            su  \n3410  2021-09-30 23:55:00.380  0.00008  0.999278  1.751032e-08  \n     trace_id network_code station_code  location_code channel  \\\n3862  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n3862  2021-10-30 23:14:20.380  0.079257  0.920731  3.438783e-12  \n     trace_id network_code station_code  location_code channel  \\\n4161  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n4161  2021-11-30 23:32:40.380  0.979895  0.000773  2.298894e-07  \n     trace_id network_code station_code  location_code channel  \\\n4583  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n4583  2021-12-31 08:23:20.380  0.001655  0.998218  1.825256e-08  \n     trace_id network_code station_code  location_code channel  \\\n4993  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n4993  2022-01-31 19:23:20.380  0.147561  0.852317  3.983329e-09  \n     trace_id network_code station_code  location_code channel  \\\n5261  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n5261  2022-02-28 21:49:40.380  0.000002  0.999998  2.579549e-16  \n     trace_id network_code station_code  location_code channel  \\\n5602  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n5602  2022-03-31 20:04:00.380  0.997501  0.000398  4.693744e-07  \n     trace_id network_code station_code  location_code channel  \\\n5902  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq            px            su  \n5902  2022-04-30 23:26:40.380  0.999958  9.355535e-11  3.906808e-08  \n     trace_id network_code station_code  location_code channel  \\\n6331  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n6331  2022-05-31 23:50:00.380  0.000002  0.977849  7.843303e-14  \n     trace_id network_code station_code  location_code channel  \\\n6988  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time            eq        px            su  \n6988  2022-06-30 23:23:40.380  1.213164e-11  0.984908  7.005963e-09  \n     trace_id network_code station_code  location_code channel  \\\n7988  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px            su  \n7988  2022-07-28 17:58:20.380  0.000017  0.979168  1.303830e-08  \n     trace_id network_code station_code  location_code channel  \\\n8988  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq        px        su  \n8988  2022-08-22 19:04:40.380  0.000562  0.920799  0.000016  \n     trace_id network_code station_code  location_code channel  \\\n9941  UW.SHW.           UW          SHW            NaN      HH   \n\n                   start_time        eq       px            su  \n9941  2022-09-30 22:58:40.380  0.005259  0.98766  1.272217e-07  \n      trace_id network_code station_code  location_code channel  \\\n10660  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n10660  2022-10-31 23:09:20.380  0.000217  0.999783  7.566400e-14  \n      trace_id network_code station_code  location_code channel  \\\n11010  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n11010  2022-11-30 22:43:00.380  0.998629  0.001371  2.209202e-20  \n      trace_id network_code station_code  location_code channel  \\\n11245  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq       px            su  \n11245  2022-12-31 15:32:00.380  0.001809  0.99819  2.182285e-07  \n      trace_id network_code station_code  location_code channel  \\\n11391  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq            px            su  \n11391  2023-01-31 13:10:00.380  0.998712  8.300160e-07  4.097764e-18  \n      trace_id network_code station_code  location_code channel  \\\n11679  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq       px            su  \n11679  2023-02-28 23:44:20.380  0.002048  0.99795  1.867119e-10  \n      trace_id network_code station_code  location_code channel  \\\n12282  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n12282  2023-03-31 21:37:00.380  0.974116  0.025782  1.359816e-08  \n      trace_id network_code station_code  location_code channel  \\\n12948  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time       eq        px            su  \n12948  2023-04-30 22:15:20.380  0.09094  0.875916  6.991897e-09  \n      trace_id network_code station_code  location_code channel  \\\n13831  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n13831  2023-05-31 23:08:00.380  0.000001  0.847045  5.940734e-12  \n      trace_id network_code station_code  location_code channel  \\\n14763  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time            eq        px            su  \n14763  2023-06-30 23:31:20.380  1.431594e-08  0.906367  4.927366e-10  \n      trace_id network_code station_code  location_code channel  \\\n15763  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time            eq        px            su  \n15763  2023-07-23 04:57:40.380  2.053474e-07  0.935857  2.292468e-11  \n      trace_id network_code station_code  location_code channel  \\\n16763  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time            eq        px            su  \n16763  2023-08-22 06:15:20.380  1.013436e-08  0.999971  1.150368e-13  \n      trace_id network_code station_code  location_code channel  \\\n17529  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px        su  \n17529  2023-09-30 22:07:20.380  0.936627  0.004037  0.000064  \n      trace_id network_code station_code  location_code channel  \\\n18077  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px        su  \n18077  2023-10-31 23:05:00.380  0.001532  0.959976  0.000292  \n      trace_id network_code station_code  location_code channel  \\\n18445  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n18445  2023-11-30 23:30:40.380  0.999683  0.000317  1.713800e-26  \n      trace_id network_code station_code  location_code channel  \\\n18749  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n18749  2023-12-31 22:32:00.380  0.000001  0.998895  1.098789e-08  \n      trace_id network_code station_code  location_code channel  \\\n19130  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n19130  2024-01-31 00:40:00.380  0.000008  0.980122  7.639991e-10  \n      trace_id network_code station_code  location_code channel  \\\n19378  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px        su  \n19378  2024-02-29 23:55:40.380  0.002215  0.997769  0.000014  \n      trace_id network_code station_code  location_code channel  \\\n19876  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq            px            su  \n19876  2024-03-31 20:37:40.380  0.999903  8.717313e-13  2.582091e-10  \n      trace_id network_code station_code  location_code channel  \\\n20283  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n20283  2024-04-30 22:06:00.380  0.002157  0.997841  6.733922e-07  \n      trace_id network_code station_code  location_code channel  \\\n20826  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n20826  2024-05-31 23:22:20.380  0.999979  0.000003  9.490123e-08  \n      trace_id network_code station_code  location_code channel  \\\n21531  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px        su  \n21531  2024-06-30 22:50:00.380  0.926886  0.002068  0.000009  \n      trace_id network_code station_code  location_code channel  \\\n22501  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq      px        su  \n22501  2024-07-31 23:14:20.380  0.017744  0.8762  0.000004  \n      trace_id network_code station_code  location_code channel  \\\n23115  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time       eq            px            su  \n23115  2024-08-31 23:11:00.380  0.99951  8.291825e-08  1.820268e-11  \n      trace_id network_code station_code  location_code channel  \\\n23781  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time   eq            px            su  \n23781  2024-09-30 23:51:40.380  1.0  4.675194e-22  7.489116e-14  \n      trace_id network_code station_code  location_code channel  \\\n24386  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px        su  \n24386  2024-10-31 08:41:40.380  0.007332  0.992338  0.000001  \n      trace_id network_code station_code  location_code channel  \\\n24697  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px       su  \n24697  2024-11-30 22:15:00.380  0.812162  0.006346  0.00021  \n      trace_id network_code station_code  location_code channel  \\\n24971  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time   eq            px            su  \n24971  2024-12-31 18:34:00.380  1.0  2.111341e-28  5.859668e-23  \n      trace_id network_code station_code  location_code channel  \\\n25310  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq            px            su  \n25310  2025-01-31 23:48:20.380  0.931236  1.888163e-17  2.599699e-10  \n      trace_id network_code station_code  location_code channel  \\\n25741  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n25741  2025-02-28 23:26:20.380  0.992011  0.000324  1.640960e-07  \n      trace_id network_code station_code  location_code channel  \\\n26254  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq        px            su  \n26254  2025-03-30 12:30:00.380  0.683196  0.316804  5.514458e-25  \nNo data for 2025-04-01 to 2025-05-01\nNo data for 2025-05-01 to 2025-06-01\nNo data for 2025-06-01 to 2025-07-01\nNo data for 2025-07-01 to 2025-08-01\nNo data for 2025-08-01 to 2025-09-01\nNo data for 2025-09-01 to 2025-10-01\nNo data for 2025-10-01 to 2025-11-01\nNo data for 2025-11-01 to 2025-12-01\nNo data for 2025-12-01 to 2026-01-01\nTotal records collected: 26255\n"},"children":[],"key":"djnFuef4qq"}],"key":"sMfAmWUlB8"}],"key":"eM0qPvDLgV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"all_data","key":"nCC6G4mdks"},{"type":"outputs","id":"J8xOGlTeRuVO6oyIFzMUR","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>trace_id</th>\n      <th>network_code</th>\n      <th>station_code</th>\n      <th>location_code</th>\n      <th>channel</th>\n      <th>start_time</th>\n      <th>eq</th>\n      <th>px</th>\n      <th>su</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2021-06-21 22:20:28.020</td>\n      <td>0.998904</td>\n      <td>3.948020e-12</td>\n      <td>2.110201e-09</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2021-06-21 22:59:08.020</td>\n      <td>1.000000</td>\n      <td>9.778896e-17</td>\n      <td>2.027776e-11</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2021-06-21 23:09:08.020</td>\n      <td>0.007704</td>\n      <td>9.812896e-01</td>\n      <td>7.397098e-06</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2021-06-21 23:11:28.020</td>\n      <td>0.999937</td>\n      <td>7.358728e-09</td>\n      <td>1.034556e-06</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2021-06-21 23:26:48.020</td>\n      <td>0.000051</td>\n      <td>9.999485e-01</td>\n      <td>2.198793e-15</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>26250</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2025-03-30 03:14:40.380</td>\n      <td>0.996816</td>\n      <td>3.182885e-03</td>\n      <td>2.664539e-14</td>\n    </tr>\n    <tr>\n      <th>26251</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2025-03-30 03:15:40.380</td>\n      <td>0.166588</td>\n      <td>8.333101e-01</td>\n      <td>3.475742e-08</td>\n    </tr>\n    <tr>\n      <th>26252</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2025-03-30 05:34:00.380</td>\n      <td>0.078771</td>\n      <td>9.189416e-01</td>\n      <td>8.604250e-09</td>\n    </tr>\n    <tr>\n      <th>26253</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2025-03-30 05:35:40.380</td>\n      <td>0.023710</td>\n      <td>8.151136e-01</td>\n      <td>7.638545e-07</td>\n    </tr>\n    <tr>\n      <th>26254</th>\n      <td>UW.SHW.</td>\n      <td>UW</td>\n      <td>SHW</td>\n      <td>NaN</td>\n      <td>HH</td>\n      <td>2025-03-30 12:30:00.380</td>\n      <td>0.683196</td>\n      <td>3.168042e-01</td>\n      <td>5.514458e-25</td>\n    </tr>\n  </tbody>\n</table>\n<p>26255 rows × 9 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"      trace_id network_code station_code  location_code channel  \\\n0      UW.SHW.           UW          SHW            NaN      HH   \n1      UW.SHW.           UW          SHW            NaN      HH   \n2      UW.SHW.           UW          SHW            NaN      HH   \n3      UW.SHW.           UW          SHW            NaN      HH   \n4      UW.SHW.           UW          SHW            NaN      HH   \n...        ...          ...          ...            ...     ...   \n26250  UW.SHW.           UW          SHW            NaN      HH   \n26251  UW.SHW.           UW          SHW            NaN      HH   \n26252  UW.SHW.           UW          SHW            NaN      HH   \n26253  UW.SHW.           UW          SHW            NaN      HH   \n26254  UW.SHW.           UW          SHW            NaN      HH   \n\n                    start_time        eq            px            su  \n0      2021-06-21 22:20:28.020  0.998904  3.948020e-12  2.110201e-09  \n1      2021-06-21 22:59:08.020  1.000000  9.778896e-17  2.027776e-11  \n2      2021-06-21 23:09:08.020  0.007704  9.812896e-01  7.397098e-06  \n3      2021-06-21 23:11:28.020  0.999937  7.358728e-09  1.034556e-06  \n4      2021-06-21 23:26:48.020  0.000051  9.999485e-01  2.198793e-15  \n...                        ...       ...           ...           ...  \n26250  2025-03-30 03:14:40.380  0.996816  3.182885e-03  2.664539e-14  \n26251  2025-03-30 03:15:40.380  0.166588  8.333101e-01  3.475742e-08  \n26252  2025-03-30 05:34:00.380  0.078771  9.189416e-01  8.604250e-09  \n26253  2025-03-30 05:35:40.380  0.023710  8.151136e-01  7.638545e-07  \n26254  2025-03-30 12:30:00.380  0.683196  3.168042e-01  5.514458e-25  \n\n[26255 rows x 9 columns]","content_type":"text/plain"}}},"children":[],"key":"E5ykQkj8dC"}],"key":"M9g7qzeQub"}],"key":"Tikx9cPUQp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"dxptAv4Svv"},{"type":"outputs","id":"6DJFECsifG6UAWDghplJV","children":[],"key":"FdCoQWYiCw"}],"key":"OxXPv8G1oR"},{"type":"block","kind":"notebook-code","data":{"vscode":{"languageId":"r"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\n\n# Convert start_time to datetime if not already\nall_data['start_time'] = pd.to_datetime(all_data['start_time'])\n\n# Create a month column for grouping\nall_data['month'] = all_data['start_time'].dt.to_period('M')\n\n# Filter rows where su > 0.7\nfiltered_data = all_data[all_data['su'] > 0.7]\n\n# Group by month and count\nmonthly_counts = filtered_data.groupby('month').size()\n\n# Convert the period index to datetime for better plotting\nmonthly_counts.index = monthly_counts.index.to_timestamp()\n\n# Plot as a bar chart\nplt.figure(figsize=(14, 7))\nax = plt.subplot(111)\n\n# Create bar chart with custom color and edge color\nbars = ax.bar(monthly_counts.index, monthly_counts.values, \n              width=25, color='royalblue', edgecolor='black', alpha=0.8)\n\n# Format x-axis to show dates properly\n# ax.xaxis.set_major_locator(mdates.YearLocator())\n# ax.xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n# ax.xaxis.set_minor_locator(mdates.MonthLocator())\n\n# # Add title and labels with improved styling\n# plt.title('Monthly Earthquake Events with SU > 0.7', fontsize=16, fontweight='bold')\n# plt.xlabel('Date', fontsize=12)\n# plt.ylabel('Number of Events', fontsize=12)\n\n# # Improve overall styling\n# plt.grid(axis='y', linestyle='--', alpha=0.7)\n# plt.xticks(rotation=45)\n# plt.tight_layout()\n\n# # Add total count as text\n# total_events = monthly_counts.sum()\n# plt.text(0.02, 0.95, f'Total Events: {total_events}', \n#          transform=ax.transAxes, fontsize=12, bbox=dict(facecolor='white', alpha=0.8))\n\nplt.show()","key":"bRY8WtL0Gn"},{"type":"outputs","id":"fmyFSVEStf-BIPSMgvLQq","children":[],"key":"rSE8ffrviQ"}],"key":"md8YkF9hbr"}],"key":"Fk87ZWwsPa"},"references":{"cite":{"order":[],"data":{}}}}